<style>
    table#type_of_storage td{
        border:none;
        text-align: center;
    }
    table#type_of_storage th{
        border:none;
    }
</style>

<h3>Water Heating</h3>

<h4>Hot water use</h4>
<table class="table">
    <tr>
        <td>Designed water use is not more than 125 litres per person per day (all water use, hot and cold)</td>
        <td style="text-align:center"><input key="data.water_heating.low_water_use_design" type="checkbox" /></td>
    </tr>
    <tr><th colspan="2" style="border-bottom:none"><b>Water efficiency</b>
            <span class="add-water-efficiency-from-lib if-master" style="cursor:pointer"><button class="btn" style="margin-left: 20px"><i class="icon-plus"></i> Add</button></span>
            <span class="apply-water-heating-measure if-not-master" type="water_usage" style="cursor:pointer"><button class="btn" style="margin-left: 20px"><i class="icon-plus"></i> Apply measure</button></span>
        </th>
    </tr>
    <tbody id="water-usage" style="display:none; border:none"></tbody>
</table>

<table class="table">    
    <tr>
        <td>Do you know how much energy you use for water heating? Checking this box will overwrite SAP calculations</td>
        <td style="text-align:center"><input key="data.water_heating.override_annual_energy_content" type="checkbox" /></td>
    </tr>
    <tr>
        <td>Annual average hot water usage V d,average</td>
        <td style="text-align:center"><span key="data.water_heating.Vd_average" dp=2></span> litres/day</td>
    </tr>
    <tr>
        <td>Annual energy content:</td>
        <td style="text-align:center; width:150px" id="annual_energy_content"></td>
    </tr>

</table>

<h4>Hot water energy system</h4>

<table class="table">
    <tr>
        <td id="water_is_heated_by" colspan="2"></td>
    </tr>
    <tr>
        <td>Select the hot water energy system that best compares to yours</td>
        <td  style="text-align:center; width:150px">
            <select key="data.water_heating.system" id="how_is_the_water_heated">
                <option value="Community heating">Community heating</option>
                <option value="Combi boiler">Combi boiler</option>
                <option value="Electric inmersion heater">Electric inmersion heater</option>
                <option value="CPSU">CPSU (including electric CPSU)</option>
                <option value="Boiler and thermal store within a single casing">Boiler and thermal store within a single casing</option>
                <option value="Separate boiler and thermal store connected by no more than 1.5m of insulated pipework">Separate boiler and thermal store connected by no more than 1.5m of insulated pipework</option>
                <option value="Other">Other</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Include solar hot water input? [See: <a id="solarhotwater-link" href="">Solar Hot Water</a>] </td>
        <td style="text-align:center; width:150px"><input key="data.water_heating.solar_water_heating" type="checkbox" /></td>
    </tr>
</table>

<h4>Hot water system losses</h4>

<table class="table">
    <tr><td colspan="2"><b>Distribution losses</b></td></tr>
    <tr>
        <td style="padding-left:50px">Water is heated instantaneously at the point of use</td>
        <td style="text-align:center; width:150px"><input key="data.water_heating.instantaneous_hotwater" type="checkbox" /></td>
    </tr>

    <tbody class="loss-interface">
        <tr><td colspan="2"><b>Storage losses</b></td></tr>
        <tr id="combi-boiler" style="display:none">
            <td>Combi boiler:</td>
            <td style="text-align:center; width:150px">
                <select key="data.water_heating.combi_boiler">
                    <option value="instantaneous_KH">Instantaneous, without keep-hot facility</option>
                    <option value="instantaneous_KH_TC">Instantaneous, with keep-hot facility controlled by time clock</option>
                    <option value="instantaneous_KH_nTC">Instantaneous, with keep-hot facility not controlled by time clock</option>
                    <option value="storage_over55">Storage combi boiler, store volume > 55 litres</option>
                    <option value="storage_less55">Storage combi boiler, store volume < 55 litres</option>
                </select>           
            </td>
        </tr>
        <tr style="display:none" id="combi-storage-volume">
            <td style="padding-left:40px">Volume of the close-coupled storage of the combi boiler</td>
            <td style="text-align:center; width:150px"><input type="number" key="data.water_heating.Vc" min="1" style="width:80px" /></td>
        </tr>
        <tr >
            <td style="padding-left:50px">Is there hot water storage on the system?</td>
            <td style="text-align:center; width:150px"><input type="checkbox" key="data.water_heating.storage" style="width:80px" /></td>
        </tr>
    <tbody class="storage loss-interface">
        <tr>
            <td style="padding-left:50px">Is the hot water store inside the dwelling?</td>
            <td style="text-align:center; width:100px"><input key="data.water_heating.hot_water_store_in_dwelling" type="checkbox" /></td>
        </tr> 
        <tr><td style="padding-left:50px" colspan="2">
                <table id="type_of_storage">
                    <tr></tr>
                </table>
            </td>
        </tr>
        <tr>
            <td style="padding-left:50px">Does the storage vessel contain a dedicated solar storage or WWHRS volume?</td>
            <td style="text-align:center; width:100px"><input key="data.water_heating.contains_dedicated_solar_storage_or_WWHRS" type="checkbox" /></td>
        </tr>
        <tr>
            <td style="padding-left:50px">Hot water storage control type:</td>
            <td style="text-align:center; width:100px">
                <select key="data.water_heating.hot_water_control_type">
                    <option value="no_cylinder_thermostat" >No cylinder thermostat</option>
                    <option value="cylinder_thermostat_without_timer">Cylinder thermostat, water heating not separately timed</option>
                    <option value="cylinder_thermostat_with_timer">Cylinder thermostat, water heating separately timed</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>Is the primary pipework insulated?   <span class="apply-water-heating-measure if-not-master" type="pipework_insulation" style="cursor:pointer"><button class="btn" style="margin-left: 20px"><i class="icon-plus"></i> Apply measure</button></span></td>
            <td><select class="disabled-if-not-master" key="data.water_heating.pipework_insulation">
                    <option value="Uninsulated primary pipework">Uninsulated primary pipework</option>
                    <option value="First 1m from cylinder insulated">First 1m from cylinder insulated</option>
                    <option value="All accesible piperwok insulated">All accesible piperwok insulated</option>
                    <option value="Fully insulated primary pipework">Fully insulated primary pipework</option>
                </select>
            </td>
        </tr>
        <tr><td colspan="2"><h4>Hot water energy demand:       <span key="data.water_heating.annual_waterheating_demand" dp="2" /> kWh/year</h4></td></tr>
        <!--<tr>
            <td style="padding-left:40px">Energy lost from water storage, kWh/day:</td>
            <td style="text-align:center; width:100px"><span></span></td>
        </tr>    
        -->
</table>

<div id="apply-measure-water-heating-modal" style="position: absolute" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h3 id="myModalLabel">Apply measure</h3>
        <p id="myModalIntroText">Choose below</p>
    </div>
    <div style="padding: 15px" id="apply-measure-water-heating-what-to-do">
        <p style="margin-left: 25px;"><input type="radio" name="apply-measure-water-heating-what-to-do" value="remove" /> Remove</p>
        <p style="margin-left: 25px;"><input type="radio" name="apply-measure-water-heating-what-to-do" value="replace" /> Replace</p>
    </div>
    <div style="padding: 15px" id='apply-measure-water-heating-library-item-selects'>
        <select id="apply-measure-water-heating-library-select"></select>
        <select id="apply-measure-water-heating-items-select"></select>            
    </div>
    <div class="modal-body">
    </div>
    <div style="padding: 15px" id="apply-measure-water-heating-pipework-insulation">
        <select>
            <option value="Uninsulated primary pipework">Uninsulated primary pipework</option>
            <option value="First 1m from cylinder insulated">First 1m from cylinder insulated</option>
            <option value="All accesible piperwok insulated">All accesible piperwok insulated</option>
            <option value="Fully insulated primary pipework">Fully insulated primary pipework</option>
        </select>
    </div>
    <div class="modal-footer">
        <p id="apply-measure-water-heating-message" style="font-weight: bold"></p>
        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
        <button id="apply-measure-water-heating-ok" class="btn btn-primary">Apply measure</button>
        <button id="apply-measure-water-heating-finish" data-dismiss="modal" class="btn btn-primary" style="display:none">Finish</button>
    </div>
</div>